---
title: "ADK 기본 셋업"
subtitle: ""
order: 2
date: 2025-10-28
---

이제 본격적으로 ADK를 테스트해보자.

모든 내용은 Python SDK를 이용해 테스트한다.

## 테스트 환경

내가 사용하는 환경은 다음과 같다.

- Python 3.12
- uv
- gpt-5-nano

ADK의 경우, Gemini 및 Vertex AI를 사용해야 강점을 더 느낄 수 있다. 하지만 다른 툴들과의 장점 및 차별점을 경험해보기 위해, 타사의 LLM을 사용하도록 한다.

## 환경 설정

가장 먼저 uv 셋업은 다음과 같이 한다. pyenv 및 uv가 셋업되지 않은 사람은, 미리 설치하거나 해당 과정을 제외하고 본인의 환경을 사용해도 좋다.

```bash
mkdir adk-test && cd adk-test
pyenv local 3.12.7
uv init
uv venv
uv add google-adk
```

위의 커맨드들을 통해, 환경 셋업은 완료된다.

## ADK Agent 생성

```bash
uv run adk create my_agent
```

위의 커맨드를 입력하면, 아래와 같이 선택지를 주는데, 나는 2를 입력했다.

```bash
Choose a model for the root agent:
1. gemini-2.5-flash
2. Other models (fill later)
Choose model (1, 2): 2
```

## LLM 모델 설정

이제 LLM모델을 준비한다. 나는 이 과정에서 pydantic을 이용한 셋업을 진행한다.

```bash
uv add pydantic-settings
```



```python
"""pydantic Settings"""

from pydantic_settings import BaseSettings, SettingsConfigDict


class Settings(BaseSettings):
    """Settings for the application"""

    model_config = SettingsConfigDict(env_file=".env")
    OPENAI_API_KEY: str = ""
    OPENAI_MODEL: str = "gpt-5-nano"

settings = Settings()
```

위와 같이 셋업하고, `.env` 파일 혹은, `export OPENAI_API_KEY="sk-~~"` OPENAI_API_KEY를 주입해주면 완료된다.



이제 litellm을 셋업하는 단계가 필요하다. ADK의 경우 Gemini 혹은 Vertex AI 외에 다른 모델을 사용하려면 litellm 라이브러리를 통해 사용해야 한다. 이는 추가 의존성을 가져오고, 중간 레이어를 거치게 되어 직접 통합보다 복잡도가 증가한다는 점에서 ADK의 단점 중 하나일 것 같다.

```bash
uv add litellm
```

이렇게 셋업하고, 다시 `my_agent/agent.py` 에 아래와 같이 셋업하면 된다.



```python
"""My Agent"""

from google.adk.agents.llm_agent import Agent
from google.adk.models.lite_llm import LiteLlm

from settings import settings

root_agent = Agent(
    model=LiteLlm(model=settings.OPENAI_MODEL),
    name="root_agent",
    description="A helpful assistant for user questions.",
    instruction="Answer user questions to the best of your knowledge",
)
```

## Agent 실행

이제 매우 간단한 Agent가 셋업이 완료되었다. 이를 실행시켜보자.

```bash
uv run adk run my_agent
```

위의 명령어로 실행시키면, 다음과 같이 [user]: 입력이 생기고, 입력할 경우 답변이 온다.

```bash
[user]: hello
23:24:51 - LiteLLM:INFO: utils.py:3416 - 
LiteLLM completion() model= gpt-5-nano; provider = openai
[root_agent]: Hello! How can I help today? I can answer questions, explain concepts, help with writing, brainstorm ideas, plan tasks, or provide quick summaries. If you have a topic in mind, tell me and I’ll dive in.
```

## 웹 인터페이스 사용

ADK의 특별한 경험을 하고 싶으면 web으로 테스트할 수 있는 방법도 있다.

```bash
uv run adk web
```

`http://127.0.0.1:8000/`로 접속하면 다음과 같은 화면을 볼 수 있다.

![ADK 웹 인터페이스 초기 화면](/assets/img/2025-10-28-02-adk-setup/image-20251028232944459.png)
*ADK 웹 인터페이스 초기 화면*



해당 방법은 ADK의 내장 웹 인터페이스로, Agent의 실행 과정을 시각적으로 모니터링할 수 있다. 답변을 입력하면 아래와 같이 모니터링을 할 수 있다.

![Agent 실행 과정 모니터링 화면](/assets/img/2025-10-28-02-adk-setup/image-20251028233029460.png)
*Agent 실행 과정 모니터링 화면*

시간이 있다면 [Introducing Agent Development Kit](https://www.youtube.com/watch?v=zgrOwow_uTQ) 영상을 보는 것을 추천한다.

